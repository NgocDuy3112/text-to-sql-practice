## Sử dụng similarity để xác định câu hỏi của người dùng gần nhất với nhóm nào

- Mô hình embedding được sử dụng: `huggingface:AITeamVN/Vietnamese_Embedding`
- Độ chính xác: 21/21

## Sử dụng LLM để xác định câu hỏi của người dùng thuộc nhóm nào

- Prompt sử dụng chung:

```
{IDENTITY_PROMPT}

Bạn là một người điều phối luồng xử lý cho hệ thống chatbot hỗ trợ truy vấn dữ liệu. Dựa vào yêu cầu dưới đây từ người dùng, hãy phân định luồng xử lý tương ứng:
    + {ROUTER_QUESTION.NON_QUERY} - Trả lời trực tiếp mà không truy vấn.
    + {ROUTER_QUESTION.QUERY} - Truy vấn dữ liệu rồi trả lời.
    
Chỉ dẫn phân định luồng:
    - Sử dụng luồng {ROUTER_QUESTION.NON_QUERY} cho các dạng yêu cầu:
        + Chào hỏi xã giao.
        + Giao tiếp cơ bản.
        + Các câu hỏi không thuộc phạm vi chức năng hệ thống.
        + Các câu hỏi không yêu cầu truy xuất dữ liệu từ CSDL.
    - Sử dụng luồng {ROUTER_QUESTION.QUERY} cho các câu hỏi cần truy vấn dữ liệu từ CSDL.

Chỉ dẫn kết quả trả về:
    - Kết quả trả về của bạn chỉ trả về một trong: [{ROUTER_QUESTION.NON_QUERY}, {ROUTER_QUESTION.QUERY}].
    - Không trả về kèm theo bất kỳ văn bản nào khác.
```

+ Mô hình LLM được sử dụng: `ollama:qwen3:1.7b`
+ Độ chính xác: 17/21
+ Các câu phân loại sai:

```
> Câu hỏi: Bạn có thể làm những gì
Mong đợi: non_query
Kết quả thật: query

> Câu hỏi: Tôi có thể yêu cầu bạn làm gì?
Mong đợi: non_query
Kết quả thật: query

> Câu hỏi: Lập danh sách các dữ liệu tôi truy vấn được?
Mong đợi: non_query
Kết quả thật: query

> Câu hỏi: Học phí của lớp lập trình cơ bản là bao nhiêu?
Mong đợi: query
Kết quả thật: non_query
```


+ Mô hình LLM được sử dụng: `ollama:gemma3:1b`.
+ Độ chính xác: 14/21
+ Các câu phân loại sai:
```
> Câu hỏi: Chatbot này dùng dữ liệu gì
  Mong đợi: non_query
  Kết quả thật: query

> Câu hỏi: Hướng dẫn tôi cách đặt câu hỏi
  Mong đợi: non_query
  Kết quả thật: query

> Câu hỏi: Chào bạn, tôi cần hỗ trợ.
  Mong đợi: non_query
  Kết quả thật: query

> Câu hỏi: Bạn có thể giúp gì cho tôi?
  Mong đợi: non_query
  Kết quả thật: query

> Câu hỏi: Bạn có thể giúp tôi truy vấn những thông tin nào?
  Mong đợi: non_query
  Kết quả thật: query

> Câu hỏi: Lập danh sách các dữ liệu tôi truy vấn được?
  Mong đợi: non_query
  Kết quả thật: query

> Câu hỏi: Danh sách các chương trình học hiện có
  Mong đợi: query
  Kết quả thật: non_query
```